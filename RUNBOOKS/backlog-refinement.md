# Backlog Refinement Runbook

> **Owner:** Product Agent (`ai@appyhourlabs.com`) | **Cadence:** Weekly (Sundays, before the Monday pipeline) | **Version:** 1.0 · 2026-02-22

Backlog refinement is a **bounded weekly scan** of `TASKS/` that produces a priority-ranked `TASKS/BACKLOG.md`. The Product Agent proposes the ranking. Matt approves or reorders. The Manager uses `BACKLOG.md` as the authoritative priority input for sprint planning.

---

## Why This Exists

Tasks accumulate faster than they get reviewed. Without a grooming ceremony, the `TASKS/` directory becomes a graveyard of stale open items and the morning pipeline has no shared understanding of what matters most. Refinement keeps the backlog honest.

---

## Token Budget Rules

> **Read task frontmatter only — not full task bodies.**

Each task file must include a one-line `Summary:` field in its frontmatter (see schema below). The Product Agent reads **only the first 5 lines** of each task file to extract status and summary. This keeps the token cost proportional to the number of tasks, not their content.

### Required Task Frontmatter Schema

Every file in `TASKS/` must begin with:

```markdown
> **Status:** `open` | `in-progress` | `complete` | `cancelled`
> **Owner:** <agent-id or human account>
> **Summary:** <one sentence — what does this task accomplish?>
> **Priority:** `P0` | `P1` | `P2` | `P3`
```

If a task file is missing this frontmatter, the Product Agent flags it as `needs-triage` in `BACKLOG.md`.

---

## Process

### 1. Scan `TASKS/`

Read only the frontmatter of each task file. Skip `complete` and `cancelled` tasks.

### 2. Produce `TASKS/BACKLOG.md`

```markdown
# Backlog — <YYYY-MM-DD>

> Generated by Product Agent · Requires human review before sprint planning

## P0 — Must do now
| Task | Owner | Summary |
|---|---|---|
| [0027-evalpal-agent-tooling.md](./0027-evalpal-agent-tooling.md) | mat@appyhourlabs.com | Configure agents to work on EvalPal codebase |

## P1 — Should do this sprint
...

## P2 — Next sprint
...

## P3 — Backlog / deferred
...

## Needs Triage
| Task | Issue |
|---|---|
| [0015-example.md](./0015-example.md) | Missing priority frontmatter |
```

### 3. Open a PR

The Product Agent opens a PR titled `chore: weekly backlog refinement YYYY-WXX` targeting `main`. Matt reviews and merges (or reorders directly in the PR).

---

## Escalation

If any open task has been in `in-progress` status for more than **14 days** without a commit or update, flag it as `SEV-3` stale in `BACKLOG.md` and surface it in the Manager's next briefing.

---

*Related: [`RUNBOOKS/sprint-planning.md`](./sprint-planning.md) · [`AGENTS/product-agent.md`](../AGENTS/product-agent.md) · [`DOCS/system-operations.md`](../DOCS/system-operations.md)*
